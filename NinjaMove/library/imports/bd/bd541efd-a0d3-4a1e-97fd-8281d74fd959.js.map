{"version":3,"sources":["../../../../assets/Script/assets/Script/controlChar.js"],"names":["Emitter","require","cc","Class","extends","Component","properties","isRight","isLeft","isJump","distan","firstPos","btnReset","Button","btnRight","btnLeft","btnJump","onLoad","instance","node","position","registerEvent","moveRight","bind","registerOnce","moveLeft","jump","reset","action","moveTo","runAction","x","resetBtn","interactable","update","dt"],"mappings":";;;;;;AAAA,IAAMA,UAAUC,QAAQ,UAAR,CAAhB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,iBAAS,KADD;AAERC,gBAAQ,KAFA;AAGRC,gBAAQ,KAHA;AAIRC,gBAAQ,CAJA;AAKRC,kBAAU,IALF;AAMRC,kBAAUV,GAAGW,MANL;AAORC,kBAAUZ,GAAGW,MAPL;AAQRE,iBAASb,GAAGW,MARJ;AASRG,iBAASd,GAAGW;AATJ,KAFP;AAaLI,UAbK,oBAaI;AACLjB,gBAAQkB,QAAR,GAAmB,IAAIlB,OAAJ,EAAnB;AACA,aAAKW,QAAL,GAAgB,KAAKQ,IAAL,CAAUC,QAA1B;AACApB,gBAAQkB,QAAR,CAAiBG,aAAjB,CAA+B,OAA/B,EAAwC,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAAxC;AACAvB,gBAAQkB,QAAR,CAAiBM,YAAjB,CAA8B,MAA9B,EAAsC,KAAKC,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAtC;AACAvB,gBAAQkB,QAAR,CAAiBG,aAAjB,CAA+B,MAA/B,EAAuC,KAAKK,IAAL,CAAUH,IAAV,CAAe,IAAf,CAAvC;AACAvB,gBAAQkB,QAAR,CAAiBM,YAAjB,CAA8B,OAA9B,EAAuC,KAAKG,KAAL,CAAWJ,IAAX,CAAgB,IAAhB,CAAvC;AACH,KApBI;AAqBLD,aArBK,uBAqBO;AACR,YAAIM,SAAS1B,GAAG2B,MAAH,CAAU,CAAV,EAAa,GAAb,EAAkB,EAAlB,CAAb;AACA,aAAKV,IAAL,CAAUW,SAAV,CAAoBF,MAApB;AACA;AACA;AACA;AACA;AACH,KA5BI;AA8BLH,YA9BK,sBA8BM;AACP,YAAIG,SAAS1B,GAAG2B,MAAH,CAAU,CAAV,EAAa,CAAC,GAAd,EAAmB,EAAnB,CAAb;AACA,aAAKV,IAAL,CAAUW,SAAV,CAAoBF,MAApB;AACA;AACA;AACA;AACA;AACH,KArCI;AAuCLF,QAvCK,kBAuCE;AACH,YAAIE,SAAS1B,GAAG2B,MAAH,CAAU,CAAV,EAAa,KAAKV,IAAL,CAAUY,CAAvB,EAA0B,GAA1B,CAAb;AACA,aAAKZ,IAAL,CAAUW,SAAV,CAAoBF,MAApB;AACA;AACA;AACA;AACA;AACH,KA9CI;AAgDLD,SAhDK,mBAgDG;AACJ,aAAKR,IAAL,CAAUC,QAAV,GAAqB,KAAKT,QAA1B;AACH,KAlDI;AAoDLqB,YApDK,sBAoDM;AACP,aAAKhB,OAAL,CAAaiB,YAAb,GAA4B,IAA5B;AACA,aAAKnB,QAAL,CAAcmB,YAAd,GAA6B,IAA7B;AACA,aAAKlB,OAAL,CAAakB,YAAb,GAA4B,IAA5B;AACA,aAAKrB,QAAL,CAAcqB,YAAd,GAA6B,IAA7B;AACH,KAzDI;AA2DLC,UA3DK,kBA2DEC,EA3DF,EA2DM;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC;AAnGI,CAAT","file":"controlChar.js","sourceRoot":"../../../../assets/Script","sourcesContent":["const Emitter = require('mEmitter');\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        isRight: false,\n        isLeft: false,\n        isJump: false,\n        distan: 0,\n        firstPos: null,\n        btnReset: cc.Button,\n        btnRight: cc.Button,\n        btnLeft: cc.Button,\n        btnJump: cc.Button,\n    },\n    onLoad() {\n        Emitter.instance = new Emitter();\n        this.firstPos = this.node.position;\n        Emitter.instance.registerEvent(\"RIGHT\", this.moveRight.bind(this));\n        Emitter.instance.registerOnce(\"LEFT\", this.moveLeft.bind(this));\n        Emitter.instance.registerEvent(\"JUMP\", this.jump.bind(this));\n        Emitter.instance.registerOnce(\"RESET\", this.reset.bind(this));\n    },\n    moveRight() {\n        let action = cc.moveTo(1, 200, 50);\n        this.node.runAction(action);\n        // this.isRight = true;\n        // this.btnJump.interactable = false;\n        // this.btnReset.interactable = false;\n        // this.btnLeft.interactable = false;\n    },\n\n    moveLeft() {\n        let action = cc.moveTo(1, -200, 50)\n        this.node.runAction(action);\n        // this.isLeft = true;\n        // this.btnJump.interactable = false;\n        // this.btnRight.interactable = false;\n        // this.btnReset.interactable = false;\n    },\n\n    jump() {\n        let action = cc.moveTo(1, this.node.x, 100)\n        this.node.runAction(action);\n        // this.isJump = true;\n        // this.btnReset.interactable = false;\n        // this.btnRight.interactable = false;\n        // this.btnLeft.interactable = false;\n    },\n\n    reset() {\n        this.node.position = this.firstPos;\n    },\n\n    resetBtn() {\n        this.btnJump.interactable = true;\n        this.btnRight.interactable = true;\n        this.btnLeft.interactable = true;\n        this.btnReset.interactable = true;\n    },\n\n    update(dt) {\n    //     if (this.isJump || this.isLeft || this.isRight) {\n    //         this.distan++;\n    //         if (this.isRight) {\n    //             this.node.scaleX = -1\n    //             this.node.x += 3;\n    //             if (this.distan == 100) {\n    //                 this.isRight = false;\n    //                 this.distan = 0;\n    //                 this.resetBtn();\n    //             }\n    //         }\n\n    //         if (this.isLeft) {\n    //             this.node.scaleX = 1\n    //             this.node.x -= 3;\n    //             if (this.distan == 100) {\n    //                 this.isLeft = false;\n    //                 this.distan = 0;\n    //                 this.resetBtn();\n    //             }\n    //         }\n\n    //         if (this.isJump) {\n    //             if (this.distan <= 100) {\n    //                 this.node.y += 2;\n    //                 if (this.node.y >= 80) {\n    //                     this.node.angle += 4.7;\n    //                 }\n    //             } else if (this.distan > 100 && this.distan < 200) {\n    //                 this.node.y -= 2;\n    //                 this.node.angle = 0;\n    //             } else if (this.distan == 200) {\n    //                 this.distan = 0;\n    //                 this.node.y = this.firstPos.y;\n    //                 this.isJump = false;\n    //                 this.resetBtn();\n    //             }\n    //         }\n    //     }\n    },\n});"]}