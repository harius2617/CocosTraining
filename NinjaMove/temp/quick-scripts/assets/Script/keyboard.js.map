{"version":3,"sources":["keyboard.js"],"names":["Emitter","require","cc","Class","extends","Component","onLoad","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onKeyLeft","onKeyRight","onKeyUp","onKeyDown","event","keyCode","macro","KEY","left","moveLeft","right","moveRight","up","jump","down","reset","instance","emit"],"mappings":";;;;;;AAAA,IAAMA,UAAUC,QAAQ,UAAR,CAAhB;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,YAAQ,kBAAY;AAChB;AACAJ,WAAGK,WAAH,CAAeC,EAAf,CAAkBN,GAAGO,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqD,KAAKC,SAA1D,EAAqE,IAArE;AACAV,WAAGK,WAAH,CAAeC,EAAf,CAAkBN,GAAGO,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqD,KAAKE,UAA1D,EAAsE,IAAtE;AACAX,WAAGK,WAAH,CAAeC,EAAf,CAAkBN,GAAGO,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqD,KAAKG,OAA1D,EAAmE,IAAnE;AACAZ,WAAGK,WAAH,CAAeC,EAAf,CAAkBN,GAAGO,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqD,KAAKI,SAA1D,EAAqE,IAArE;AACH,KARI;AASLH,eAAW,mBAAUI,KAAV,EAAiB;AACxB,gBAAQA,MAAMC,OAAd;AACI,iBAAKf,GAAGgB,KAAH,CAASC,GAAT,CAAaC,IAAlB;AACI,qBAAKC,QAAL;AACA;AAHR;AAKH,KAfI;AAgBLR,gBAAY,oBAAUG,KAAV,EAAiB;AACzB,gBAAQA,MAAMC,OAAd;AACI,iBAAKf,GAAGgB,KAAH,CAASC,GAAT,CAAaG,KAAlB;AACI,qBAAKC,SAAL;AACA;AAHR;AAKH,KAtBI;;AAwBLT,aAAS,iBAASE,KAAT,EAAgB;AACrB,gBAAQA,MAAMC,OAAd;AACI,iBAAKf,GAAGgB,KAAH,CAASC,GAAT,CAAaK,EAAlB;AACI,qBAAKC,IAAL;AACA;AAHR;AAKH,KA9BI;;AAgCLV,eAAU,mBAASC,KAAT,EAAgB;AACtB,gBAAQA,MAAMC,OAAd;AACI,iBAAKf,GAAGgB,KAAH,CAASC,GAAT,CAAaO,IAAlB;AACI,qBAAKC,KAAL;AACA;AAHR;AAKH,KAtCI;AAuCLJ,aAvCK,uBAuCO;AACRvB,gBAAQ4B,QAAR,CAAiBC,IAAjB,CAAsB,OAAtB;AACH,KAzCI;AA2CLR,YA3CK,sBA2CM;AACPrB,gBAAQ4B,QAAR,CAAiBC,IAAjB,CAAsB,MAAtB;AACH,KA7CI;AA8CLJ,QA9CK,kBA8CE;AACHzB,gBAAQ4B,QAAR,CAAiBC,IAAjB,CAAsB,MAAtB;AACH,KAhDI;AAiDLF,SAjDK,mBAiDG;AACJ3B,gBAAQ4B,QAAR,CAAiBC,IAAjB,CAAsB,OAAtB;AACH;AAnDI,CAAT","file":"keyboard.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["const Emitter = require('mEmitter');\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n    onLoad: function () {\r\n        // add key down and key up event\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyLeft, this);\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyRight, this);\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyUp, this);\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n    },\r\n    onKeyLeft: function (event) {\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.left:\r\n                this.moveLeft();\r\n                break;\r\n        }\r\n    },\r\n    onKeyRight: function (event) {\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.right:\r\n                this.moveRight();\r\n                break;\r\n        }\r\n    },\r\n\r\n    onKeyUp: function(event) {\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.up:\r\n                this.jump();\r\n                break;        \r\n        }\r\n    },\r\n\r\n    onKeyDown:function(event) {\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.down:\r\n                this.reset();\r\n                break;\r\n        }\r\n    },\r\n    moveRight() {\r\n        Emitter.instance.emit('RIGHT');\r\n    },\r\n\r\n    moveLeft() {\r\n        Emitter.instance.emit('LEFT');\r\n    },\r\n    jump() {\r\n        Emitter.instance.emit(\"JUMP\");\r\n    },\r\n    reset() {\r\n        Emitter.instance.emit(\"RESET\")\r\n    }\r\n});"]}