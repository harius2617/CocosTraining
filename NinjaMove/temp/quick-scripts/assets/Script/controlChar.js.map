{"version":3,"sources":["controlChar.js"],"names":["Emitter","require","cc","Class","extends","Component","properties","isRight","isLeft","isJump","distan","firstPos","btnReset","Button","btnRight","btnLeft","btnJump","onLoad","instance","node","position","registerEvent","moveRight","bind","registerOnce","moveLeft","jump","reset","action","moveTo","runAction","x","resetBtn","interactable","update","dt"],"mappings":";;;;;;AAAA,IAAMA,UAAUC,QAAQ,UAAR,CAAhB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,iBAAS,KADD;AAERC,gBAAQ,KAFA;AAGRC,gBAAQ,KAHA;AAIRC,gBAAQ,CAJA;AAKRC,kBAAU,IALF;AAMRC,kBAAUV,GAAGW,MANL;AAORC,kBAAUZ,GAAGW,MAPL;AAQRE,iBAASb,GAAGW,MARJ;AASRG,iBAASd,GAAGW;AATJ,KAFP;AAaLI,UAbK,oBAaI;AACLjB,gBAAQkB,QAAR,GAAmB,IAAIlB,OAAJ,EAAnB;AACA,aAAKW,QAAL,GAAgB,KAAKQ,IAAL,CAAUC,QAA1B;AACApB,gBAAQkB,QAAR,CAAiBG,aAAjB,CAA+B,OAA/B,EAAwC,KAAKC,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAAxC;AACAvB,gBAAQkB,QAAR,CAAiBM,YAAjB,CAA8B,MAA9B,EAAsC,KAAKC,QAAL,CAAcF,IAAd,CAAmB,IAAnB,CAAtC;AACAvB,gBAAQkB,QAAR,CAAiBG,aAAjB,CAA+B,MAA/B,EAAuC,KAAKK,IAAL,CAAUH,IAAV,CAAe,IAAf,CAAvC;AACAvB,gBAAQkB,QAAR,CAAiBM,YAAjB,CAA8B,OAA9B,EAAuC,KAAKG,KAAL,CAAWJ,IAAX,CAAgB,IAAhB,CAAvC;AACH,KApBI;AAqBLD,aArBK,uBAqBO;AACR,YAAIM,SAAS1B,GAAG2B,MAAH,CAAU,CAAV,EAAa,GAAb,EAAkB,EAAlB,CAAb;AACA,aAAKV,IAAL,CAAUW,SAAV,CAAoBF,MAApB;AACA;AACA;AACA;AACA;AACH,KA5BI;AA8BLH,YA9BK,sBA8BM;AACP,YAAIG,SAAS1B,GAAG2B,MAAH,CAAU,CAAV,EAAa,CAAC,GAAd,EAAmB,EAAnB,CAAb;AACA,aAAKV,IAAL,CAAUW,SAAV,CAAoBF,MAApB;AACA;AACA;AACA;AACA;AACH,KArCI;AAuCLF,QAvCK,kBAuCE;AACH,YAAIE,SAAS1B,GAAG2B,MAAH,CAAU,CAAV,EAAa,KAAKV,IAAL,CAAUY,CAAvB,EAA0B,GAA1B,CAAb;AACA,aAAKZ,IAAL,CAAUW,SAAV,CAAoBF,MAApB;AACA;AACA;AACA;AACA;AACH,KA9CI;AAgDLD,SAhDK,mBAgDG;AACJ,aAAKR,IAAL,CAAUC,QAAV,GAAqB,KAAKT,QAA1B;AACH,KAlDI;AAoDLqB,YApDK,sBAoDM;AACP,aAAKhB,OAAL,CAAaiB,YAAb,GAA4B,IAA5B;AACA,aAAKnB,QAAL,CAAcmB,YAAd,GAA6B,IAA7B;AACA,aAAKlB,OAAL,CAAakB,YAAb,GAA4B,IAA5B;AACA,aAAKrB,QAAL,CAAcqB,YAAd,GAA6B,IAA7B;AACH,KAzDI;AA2DLC,UA3DK,kBA2DEC,EA3DF,EA2DM;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC;AAnGI,CAAT","file":"controlChar.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["const Emitter = require('mEmitter');\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        isRight: false,\r\n        isLeft: false,\r\n        isJump: false,\r\n        distan: 0,\r\n        firstPos: null,\r\n        btnReset: cc.Button,\r\n        btnRight: cc.Button,\r\n        btnLeft: cc.Button,\r\n        btnJump: cc.Button,\r\n    },\r\n    onLoad() {\r\n        Emitter.instance = new Emitter();\r\n        this.firstPos = this.node.position;\r\n        Emitter.instance.registerEvent(\"RIGHT\", this.moveRight.bind(this));\r\n        Emitter.instance.registerOnce(\"LEFT\", this.moveLeft.bind(this));\r\n        Emitter.instance.registerEvent(\"JUMP\", this.jump.bind(this));\r\n        Emitter.instance.registerOnce(\"RESET\", this.reset.bind(this));\r\n    },\r\n    moveRight() {\r\n        let action = cc.moveTo(1, 200, 50);\r\n        this.node.runAction(action);\r\n        // this.isRight = true;\r\n        // this.btnJump.interactable = false;\r\n        // this.btnReset.interactable = false;\r\n        // this.btnLeft.interactable = false;\r\n    },\r\n\r\n    moveLeft() {\r\n        let action = cc.moveTo(1, -200, 50)\r\n        this.node.runAction(action);\r\n        // this.isLeft = true;\r\n        // this.btnJump.interactable = false;\r\n        // this.btnRight.interactable = false;\r\n        // this.btnReset.interactable = false;\r\n    },\r\n\r\n    jump() {\r\n        let action = cc.moveTo(1, this.node.x, 100)\r\n        this.node.runAction(action);\r\n        // this.isJump = true;\r\n        // this.btnReset.interactable = false;\r\n        // this.btnRight.interactable = false;\r\n        // this.btnLeft.interactable = false;\r\n    },\r\n\r\n    reset() {\r\n        this.node.position = this.firstPos;\r\n    },\r\n\r\n    resetBtn() {\r\n        this.btnJump.interactable = true;\r\n        this.btnRight.interactable = true;\r\n        this.btnLeft.interactable = true;\r\n        this.btnReset.interactable = true;\r\n    },\r\n\r\n    update(dt) {\r\n    //     if (this.isJump || this.isLeft || this.isRight) {\r\n    //         this.distan++;\r\n    //         if (this.isRight) {\r\n    //             this.node.scaleX = -1\r\n    //             this.node.x += 3;\r\n    //             if (this.distan == 100) {\r\n    //                 this.isRight = false;\r\n    //                 this.distan = 0;\r\n    //                 this.resetBtn();\r\n    //             }\r\n    //         }\r\n\r\n    //         if (this.isLeft) {\r\n    //             this.node.scaleX = 1\r\n    //             this.node.x -= 3;\r\n    //             if (this.distan == 100) {\r\n    //                 this.isLeft = false;\r\n    //                 this.distan = 0;\r\n    //                 this.resetBtn();\r\n    //             }\r\n    //         }\r\n\r\n    //         if (this.isJump) {\r\n    //             if (this.distan <= 100) {\r\n    //                 this.node.y += 2;\r\n    //                 if (this.node.y >= 80) {\r\n    //                     this.node.angle += 4.7;\r\n    //                 }\r\n    //             } else if (this.distan > 100 && this.distan < 200) {\r\n    //                 this.node.y -= 2;\r\n    //                 this.node.angle = 0;\r\n    //             } else if (this.distan == 200) {\r\n    //                 this.distan = 0;\r\n    //                 this.node.y = this.firstPos.y;\r\n    //                 this.isJump = false;\r\n    //                 this.resetBtn();\r\n    //             }\r\n    //         }\r\n    //     }\r\n    },\r\n});"]}